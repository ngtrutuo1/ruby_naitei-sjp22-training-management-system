<%# app/views/admin/users/show.html.erb %>
<% provide :title, @admin.name %>

<div class="content-container">
  <div class="page-header-with-actions">

    <div class="page-controls-container">
      <div class="top-action-area flex-container space-between align-center">
        <h1 class="page-title"><%= @admin.name %></h1>
        <div class="dropdown top-action-area">
          <button class="btn btn-primary dropdown-toggle" type="button" id="adminActionsDropdown" data-toggle="dropdown" aria-haspopup="true" aria-expanded="true">
            <%= t(".actions") %>
            <span class="caret"></span>
          </button>
          <ul class="dropdown-menu dropdown-menu-right" aria-labelledby="adminActionsDropdown">
            <li><%= link_to t(".edit_profile"), edit_user_path(@admin) %></li>
            <li role="separator" class="divider"></li>
            <% if @admin.activated? %>
              <li><%= link_to t("admin.admin_users.index.deactivate"), deactivate_admin_admin_user_path(@admin),
                  data: {turbo_method: :patch} %></li>
            <% else %>
              <li><%= link_to t("common.activate"), activate_admin_admin_user_path(@admin),
                  data: {turbo_method: :patch} %></li>
            <% end %>
          </ul>
        </div>
      </div>
    </div>
  </div>

  <%= render "admin_info", admin: @admin %>

  <div class="courses-section">
    <%= render "courses_table", courses: @courses %>

    <div class="pagination-wrapper">
      <%== pagy_bootstrap_nav(@pagy) if @pagy.pages > Settings.allowed_pagy %>
    </div>
  </div>
</div>
